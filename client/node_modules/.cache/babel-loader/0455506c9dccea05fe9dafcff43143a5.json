{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zuza/Documents/mot/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/zuza/Documents/mot/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/zuza/Documents/mot/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RegInput(_ref){var setCarDetails=_ref.setCarDetails,setShowMotError=_ref.setShowMotError,setIsLoading=_ref.setIsLoading;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),regNo=_useState2[0],setRegNo=_useState2[1];var handleChangeReg=function handleChangeReg(event){setRegNo(event.target.value);};var handleSearchRegNo=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var carInfo;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;setIsLoading(true);_context.next=5;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/checkmot/\").concat(regNo),{headers:{\"x-api-key\":\"fZi8YcjrZN1cGkQeZP7Uaa4rTxua8HovaswPuIno\"}});case 5:carInfo=_context.sent;setIsLoading(false);setShowMotError(false);return _context.abrupt(\"return\",setCarDetails(carInfo.data[0]));case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);setIsLoading(false);setShowMotError(true);case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function handleSearchRegNo(_x){return _ref2.apply(this,arguments);};}();var resetSearch=function resetSearch(){setCarDetails(\"\");setRegNo(\"\");setShowMotError(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-8 mt-12\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-mono text-3xl mb-4 text-center\",children:\"MOT CHECKER\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"font-mono text-xl mb-3 text-center\",children:\"Check the MOT status of a vehicle\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-mono text-sm text-center\",children:\"Find out if a vehicle has an MOT certificate and when it runs out.\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-mono text-sm mb-6 text-center\",children:\"You\\u2019ll need the vehicle\\u2019s registration number (number plate).\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-8 mb-6\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearchRegNo,className:\"flex flex-col justify-center items-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-mono mt-2 font-medium text-center\",children:\"Enter a valid registration number here\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input-primary\",placeholder:\"e.g. CU57ABC\",id:\"regno\",value:regNo,type:\"text\",onChange:handleChangeReg}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-emerald\",children:\"Search Reg\"})]}),/*#__PURE__*/_jsx(\"form\",{className:\"flex flex-col justify-center items-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-amber\",onClick:resetSearch,children:\"Reset\"})})]})]});}export default RegInput;","map":{"version":3,"names":["axios","useState","RegInput","setCarDetails","setShowMotError","setIsLoading","regNo","setRegNo","handleChangeReg","event","target","value","handleSearchRegNo","preventDefault","get","process","env","REACT_APP_API_URL","headers","carInfo","data","resetSearch"],"sources":["/Users/zuza/Documents/mot/client/src/RegInput.js"],"sourcesContent":["import axios from \"axios\";\nimport { useState } from \"react\";\n\nfunction RegInput({ setCarDetails, setShowMotError, setIsLoading }) {\n  const [regNo, setRegNo] = useState(\"\");\n\n  const handleChangeReg = (event) => {\n    setRegNo(event.target.value);\n  };\n\n  const handleSearchRegNo = async (event) => {\n    event.preventDefault();\n\n    try {\n      setIsLoading(true);\n      const carInfo = await axios.get(\n        `${process.env.REACT_APP_API_URL}/checkmot/${regNo}`,\n        {\n          headers: {\n            \"x-api-key\": \"fZi8YcjrZN1cGkQeZP7Uaa4rTxua8HovaswPuIno\",\n          },\n        }\n      );\n      setIsLoading(false);\n      setShowMotError(false);\n      return setCarDetails(carInfo.data[0]);\n    } catch (e) {\n      setIsLoading(false);\n      setShowMotError(true);\n    }\n  };\n\n  const resetSearch = () => {\n    setCarDetails(\"\");\n    setRegNo(\"\");\n    setShowMotError(false);\n  };\n\n  return (\n    <div>\n      <div className=\"px-8 mt-12\">\n        <h1 className=\"font-mono text-3xl mb-4 text-center\">MOT CHECKER</h1>\n        <h2 className=\"font-mono text-xl mb-3 text-center\">\n          Check the MOT status of a vehicle\n        </h2>\n        <h3 className=\"font-mono text-sm text-center\">\n          Find out if a vehicle has an MOT certificate and when it runs out.\n        </h3>\n        <h3 className=\"font-mono text-sm mb-6 text-center\">\n          You’ll need the vehicle’s registration number (number plate).\n        </h3>\n      </div>\n      <div className=\"px-8 mb-6\">\n        <form\n          onSubmit={handleSearchRegNo}\n          className=\"flex flex-col justify-center items-center\"\n        >\n          <p className=\"font-mono mt-2 font-medium text-center\">\n            Enter a valid registration number here\n          </p>\n\n          <input\n            className=\"input-primary\"\n            placeholder=\"e.g. CU57ABC\"\n            id=\"regno\"\n            value={regNo}\n            type=\"text\"\n            onChange={handleChangeReg}\n          />\n          <button className=\"btn-emerald\">Search Reg</button>\n        </form>\n        <form className=\"flex flex-col justify-center items-center\">\n          <button className=\"btn-amber\" onClick={resetSearch}>\n            Reset\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default RegInput;\n"],"mappings":"kXAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,C,wFAEA,QAASC,SAAT,MAAoE,IAAhDC,cAAgD,MAAhDA,aAAgD,CAAjCC,eAAiC,MAAjCA,eAAiC,CAAhBC,YAAgB,MAAhBA,YAAgB,CAClE,cAA0BJ,QAAQ,CAAC,EAAD,CAAlC,wCAAOK,KAAP,eAAcC,QAAd,eAEA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,CAACC,KAAD,CAAW,CACjCF,QAAQ,CAACE,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR,CACD,CAFD,CAIA,GAAMC,kBAAiB,6FAAG,iBAAOH,KAAP,gIACxBA,KAAK,CAACI,cAAN,GADwB,gBAItBR,YAAY,CAAC,IAAD,CAAZ,CAJsB,sBAKAL,MAAK,CAACc,GAAN,WACjBC,OAAO,CAACC,GAAR,CAAYC,iBADK,sBACyBX,KADzB,EAEpB,CACEY,OAAO,CAAE,CACP,YAAa,0CADN,CADX,CAFoB,CALA,QAKhBC,OALgB,eAatBd,YAAY,CAAC,KAAD,CAAZ,CACAD,eAAe,CAAC,KAAD,CAAf,CAdsB,gCAefD,aAAa,CAACgB,OAAO,CAACC,IAAR,CAAa,CAAb,CAAD,CAfE,4DAiBtBf,YAAY,CAAC,KAAD,CAAZ,CACAD,eAAe,CAAC,IAAD,CAAf,CAlBsB,qEAAH,kBAAjBQ,kBAAiB,6CAAvB,CAsBA,GAAMS,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxBlB,aAAa,CAAC,EAAD,CAAb,CACAI,QAAQ,CAAC,EAAD,CAAR,CACAH,eAAe,CAAC,KAAD,CAAf,CACD,CAJD,CAMA,mBACE,oCACE,aAAK,SAAS,CAAC,YAAf,wBACE,WAAI,SAAS,CAAC,qCAAd,yBADF,cAEE,WAAI,SAAS,CAAC,oCAAd,+CAFF,cAKE,WAAI,SAAS,CAAC,+BAAd,gFALF,cAQE,WAAI,SAAS,CAAC,oCAAd,qFARF,GADF,cAaE,aAAK,SAAS,CAAC,WAAf,wBACE,cACE,QAAQ,CAAEQ,iBADZ,CAEE,SAAS,CAAC,2CAFZ,wBAIE,UAAG,SAAS,CAAC,wCAAb,oDAJF,cAQE,cACE,SAAS,CAAC,eADZ,CAEE,WAAW,CAAC,cAFd,CAGE,EAAE,CAAC,OAHL,CAIE,KAAK,CAAEN,KAJT,CAKE,IAAI,CAAC,MALP,CAME,QAAQ,CAAEE,eANZ,EARF,cAgBE,eAAQ,SAAS,CAAC,aAAlB,wBAhBF,GADF,cAmBE,aAAM,SAAS,CAAC,2CAAhB,uBACE,eAAQ,SAAS,CAAC,WAAlB,CAA8B,OAAO,CAAEa,WAAvC,mBADF,EAnBF,GAbF,GADF,CAyCD,CAED,cAAenB,SAAf"},"metadata":{},"sourceType":"module"}